/* ========================================================================
 * Copyright 2016-2017 Tigran Simonyan.
 * https://github.com/TigranSimonyan/affixcomponent.git
 * ======================================================================== */
(function($){var win_w,win_h,doc_h,win_top,elems,elem_h,elem_w,m_scr,elem_top,elem_bottom,offset_elem;const m_scr_class_name="affix-mobile-view";const elem_bottom_auto=100;const default_m_scr=992;$(window)["on"]("load",function(){elems=$("[data-affix=init]");affixCalc(true);})["scroll"](function(){affixCalc(false);})["resize"](function(){affixCalc(true);});function affixCalc(updateVars){if(!elems||!elems.length){return;}if(updateVars){elems.attr("style","");elems.data("height","");elems.data("width","");win_w=$(window)["width"]();win_h=$(window)["height"]();}win_top=$(window)["scrollTop"]();doc_h=$(document)["outerHeight"]();elems.each(function(){if(isNaN(parseFloat($(this)["data"]("mobile-screen-width")))){$(this)["data"]("mobile-screen-width",default_m_scr);}m_scr=parseFloat($(this)["data"]("mobile-screen-width"));if(win_w>=m_scr){if(isNaN(parseFloat($(this)["data"]("height")))){$(this)["data"]("height",$(this)["outerHeight"]());}if(isNaN(parseFloat($(this)["data"]("width")))){$(this)["data"]("width",$(this)["outerWidth"]());}elem_h=parseFloat($(this)["data"]("height"));elem_w=parseFloat($(this)["data"]("width"));offset_elem=$(this)["offset"]();offset_elem.right=win_w-(offset_elem.left+elem_w);if(isNaN(parseFloat($(this)["data"]("offset-top")))){$(this)["data"]("offset-top",offset_elem.top);}if(isNaN(parseFloat($(this)["data"]("offset-bottom")))){$(this)["data"]("offset-bottom",elem_bottom_auto);}elem_top=parseFloat($(this)["data"]("offset-top"));elem_bottom=parseFloat($(this)["data"]("offset-top"));if($($(this)["data"]("offset-top-from"))["length"]){elem_top+=$($(this)["data"]("offset-top-from"))["outerHeight"]();}if($($(this)["data"]("offset-bottom-from"))["length"]){elem_bottom+=$($(this)["data"]("offset-bottom-from"))["outerHeight"]();}if(doc_h-elem_bottom<elem_h+elem_top){elem_bottom-=((elem_h+elem_top)-(doc_h-elem_bottom));if(elem_bottom<0){elem_bottom=Math.abs(elem_bottom);elem_top=Math.abs(elem_top-elem_bottom);}}var elem_position=win_top+elem_h+elem_top;var offsetDocumentBottom=doc_h-elem_bottom;if(offsetDocumentBottom<=elem_position){elem_top-=elem_position-offsetDocumentBottom;}$(this)["css"]({position:"fixed",top:elem_top,left:offset_elem.left,right:offset_elem.right});if(updateVars&&$(this)["hasClass"](m_scr_class_name)){$(this)["removeClass"](m_scr_class_name);}}else{if(updateVars&&!$(this)["hasClass"](m_scr_class_name)){$(this)["addClass"](m_scr_class_name);}}});}})(jQuery);