/* ========================================================================
 * Copyright 2016-2017 Tigran Simonyan.
 * https://github.com/TigranSimonyan/affixcomponent.git
 * ======================================================================== */
;(function($){var win_w,win_h,doc_h,win_top,elems,elem_h,elem_w,m_scr,elem_top,elem_bottom,offset_elem;const m_scr_class_name="affix-mobile-view";const elem_bottom_auto=100;const default_m_scr=992;$(window).on("load",function(){elems=$("[data-affix=init]");affixCalc(true);}).scroll(function(){affixCalc(false);}).resize(function(){affixCalc(true);});function affixCalc(updateVars){if(!elems||!elems.length){return;}if(updateVars){if(elems.attr("style")){elems.attr("style","");}if(elems.data("height")){elems.data("height","");}if(elems.data("width")){elems.data("width","");}win_w=$(window).width();win_h=$(window).height();}win_top=$(window).scrollTop();doc_h=$(document).outerHeight();elems.each(function(){if(!isNaN(parseFloat($(this).data("height")))){elem_h=parseFloat($(this).data("height"));}else{elem_h=$(this).outerHeight();$(this).data("height",elem_h);}if(!isNaN(parseFloat($(this).data("width")))){elem_w=parseFloat($(this).data("width"));}else{elem_w=$(this).outerWidth();$(this).data("width",elem_w);}if($(this).data("mobile-screen-width")==="auto"||$(this).data("mobile-screen-width")==undefined){m_scr=default_m_scr;}else{m_scr=parseFloat($(this).data("mobile-screen-width"));}if(win_w>=m_scr){offset_elem=$(this).offset();offset_elem.right=win_w-(offset_elem.left+elem_w);if($(this).data("offset-top")==="auto"||$(this).data("offset-top")==undefined){elem_top=offset_elem.top;$(this).data("offset-top",elem_top);}else{elem_top=parseFloat($(this).data("offset-top"));}if($(this).data("offset-bottom")==="auto"||$(this).data("offset-bottom")==undefined){elem_bottom=elem_bottom_auto;$(this).data("offset-bottom",elem_bottom);}else{elem_bottom=parseFloat($(this).data("offset-bottom"));}if($($(this).data("offset-top-from")).length){elem_top+=$($(this).data("offset-top-from")).outerHeight();}if($($(this).data("offset-bottom-from")).length){elem_bottom+=$($(this).data("offset-bottom-from")).outerHeight();}if(doc_h-elem_bottom<elem_h+elem_top){elem_bottom-=((elem_h+elem_top)-(doc_h-elem_bottom));if(elem_bottom<0){elem_bottom=Math.abs(elem_bottom);elem_top=Math.abs(elem_top-elem_bottom);}}var elem_position=win_top+elem_h+elem_top;var offsetDocumentBottom=doc_h-elem_bottom;if(offsetDocumentBottom<=elem_position){elem_top-=elem_position-offsetDocumentBottom;}$(this).css({position:"fixed",top:elem_top,left:offset_elem.left,right:offset_elem.right});if(updateVars&&$(this).hasClass(m_scr_class_name)){$(this).removeClass(m_scr_class_name);}}else{if(updateVars&&!$(this).hasClass(m_scr_class_name)){$(this).addClass(m_scr_class_name);}}});}})(jQuery);